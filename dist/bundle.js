!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.JSONInput=t(require("react")):e.JSONInput=t(e.react)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,t,r){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=44)}([function(t,r){t.exports=e},function(e,t,r){"use strict";function n(e,t){return t.some(function(t){return o[t](e)})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(8),o={};o.array=function(e){return Array.isArray(e)},o.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)&&!(e instanceof RegExp)&&!("function"==typeof Map&&e instanceof Map)&&!("function"==typeof Set&&e instanceof Set)},o.string=function(e){return"string"==typeof e},o.number=function(e){return"number"==typeof e},o["function"]=function(e){return"function"==typeof e},o.primitive=function(e){return e!==Object(e)},o.splicer=function(e){return!o.array(e)||e.length<2?!1:n(e[0],["number","function","object"])&&o.number(e[1])};var i=["string","number","function","object"];o.path=function(e){return e||0===e||""===e?[].concat(e).every(function(e){return n(e,i)}):!1},o.dynamicPath=function(e){return e.some(function(e){return o["function"](e)||o.object(e)})},o.monkeyPath=function(e,t){var r=[],n=e,o=void 0,i=void 0;for(o=0,i=t.length;i>o;o++){if(r.push(t[o]),"object"!=typeof n)return null;if(n=n[t[o]],n instanceof a.Monkey)return r}return null},o.lazyGetter=function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return r&&r.get&&r.get.isLazyGetter===!0},o.monkeyDefinition=function(e){if(o.object(e))return o["function"](e.get)&&(!e.cursors||o.object(e.cursors)&&Object.keys(e.cursors).every(function(t){return o.path(e.cursors[t])}))?"object":null;if(o.array(e)){var t=1;return o.object(e[e.length-1])&&t++,o["function"](e[e.length-t])&&e.slice(0,-t).every(function(e){return o.path(e)})?"array":null}return null},o.watcherMapping=function(e){return o.object(e)&&Object.keys(e).every(function(t){return o.path(e[t])})};var s=["set","apply","push","unshift","concat","pop","shift","deepMerge","merge","splice","unset"];o.operationType=function(e){return"string"==typeof e&&!!~s.indexOf(e)},t["default"]=o,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.value,r=e.path,n=e.actions,a=e.schema.value,o=void 0!==t?t:a;t!==o&&n.setDefaultValue(r,o)}function u(e){var t=function(t){function r(e){a(this,r);var t=o(this,Object.getPrototypeOf(r).call(this,e));return s(e),t}return i(r,t),l(r,[{key:"componentWillReceiveProps",value:function(e){e.actions.getStatus(e.path)||s(e)}},{key:"render",value:function(){return f["default"].createElement(e,this.props)}}]),r}(f["default"].Component);return t}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),f=n(c);t["default"]=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){function t(t){var r=t.schema.required,n=r?"required":"";return i["default"].createElement("div",null,i["default"].createElement("label",{className:t.schema.type+"Field "+n},i["default"].createElement("span",{className:"title"},t.view.title||t.editKey),i["default"].createElement(e,t),i["default"].createElement("span",null,t.view.description),i["default"].createElement("span",null,t.errorMessage)))}return t}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=n(o);t["default"]=a},function(e,t,r){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var r=void 0,n=void 0;for(r=0,n=e.length;n>r;r++)if(t(e[r]))return r;return-1}function i(e){var t=new Array(e.length),r=void 0,n=void 0;for(r=0,n=e.length;n>r;r++)t[r]=e[r];return t}function s(e){return i(e)}function u(e,t){return function(){e.apply(null,arguments),t.apply(null,arguments)}}function l(e){var t=e.source,r="";return e.global&&(r+="g"),e.multiline&&(r+="m"),e.ignoreCase&&(r+="i"),e.sticky&&(r+="y"),e.unicode&&(r+="u"),new RegExp(t,r)}function c(t,r){if(!r||"object"!=typeof r||r instanceof Error||r instanceof w.MonkeyDefinition||r instanceof w.Monkey||"ArrayBuffer"in e&&r instanceof ArrayBuffer)return r;if(j["default"].array(r)){if(t){var n=[],a=void 0,o=void 0;for(a=0,o=r.length;o>a;a++)n.push(c(!0,r[a]));return n}return i(r)}if(r instanceof Date)return new Date(r.getTime());if(r instanceof RegExp)return l(r);if(j["default"].object(r)){var s={},u=void 0;for(u in r)j["default"].lazyGetter(r,u)?Object.defineProperty(s,u,{get:Object.getOwnPropertyDescriptor(r,u).get,enumerable:!0,configurable:!0}):r.hasOwnProperty(u)&&(s[u]=t?c(!0,r[u]):r[u]);return s}return r}function f(e){return e||0===e||""===e?e:[]}function h(e,t){var r=!0,n=void 0;if(!e)return!1;for(n in t)if(j["default"].object(t[n]))r=r&&h(e[n],t[n]);else if(j["default"].array(t[n]))r=r&&!!~t[n].indexOf(e[n]);else if(e[n]!==t[n])return!1;return r}function d(e,t){if(!("object"!=typeof t||null===t||t instanceof w.Monkey)&&(Object.freeze(t),e))if(Array.isArray(t)){var r=void 0,n=void 0;for(r=0,n=t.length;n>r;r++)d(!0,t[r])}else{var a=void 0,o=void 0;for(o in t)j["default"].lazyGetter(t,o)||(a=t[o],a&&t.hasOwnProperty(o)&&"object"==typeof a&&!Object.isFrozen(a)&&d(!0,a))}}function p(e,t){if(!t)return S;var r=[],n=!0,a=e,i=void 0,s=void 0,u=void 0;for(s=0,u=t.length;u>s;s++){if(!a)return{data:void 0,solvedPath:r.concat(t.slice(s)),exists:!1};if("function"==typeof t[s]){if(!j["default"].array(a))return S;if(i=o(a,t[s]),!~i)return S;r.push(i),a=a[i]}else if("object"==typeof t[s]){if(!j["default"].array(a))return S;if(i=o(a,function(e){return h(e,t[s])}),!~i)return S;r.push(i),a=a[i]}else r.push(t[s]),n="object"==typeof a&&t[s]in a,a=a[t[s]]}return{data:a,solvedPath:r,exists:n}}function v(e,t){var r=new Error(e);for(var n in t)r[n]=t[n];return r}function m(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];var a=r[0],o=void 0,i=void 0,s=void 0,u=void 0;for(i=1,s=r.length;s>i;i++){o=r[i];for(u in o)!e||!j["default"].object(o[u])||o[u]instanceof w.Monkey?a[u]=o[u]:a[u]=m(!0,a[u]||{},o[u])}return a}function y(e,t){var r=[];t=[].concat(t);for(var n=0,a=t.length;a>n;n++){var o=t[n];"."===o?n||(r=e.slice(0)):".."===o?r=(n?r:e).slice(0,-1):r.push(o)}return r}function b(e,t){var r=void 0,n=void 0,a=void 0,o=void 0,i=void 0,s=void 0,u=void 0,l=void 0,c=void 0;for(r=0,o=e.length;o>r;r++){if(u=e[r],!u.length)return!0;for(n=0,i=t.length;i>n;n++){if(l=t[n],!l||!l.length)return!0;for(a=0,s=l.length;s>a&&(c=l[a],c==u[a]);a++)if(a+1===s||a+1===u.length)return!0}}return!1}function g(e,t,r){r=Math.max(0,r),j["default"]["function"](t)&&(t=o(e,t)),j["default"].object(t)&&(t=o(e,function(e){return h(e,t)}));for(var n=arguments.length,a=Array(n>3?n-3:0),i=3;n>i;i++)a[i-3]=arguments[i];return t>=0?e.slice(0,t).concat(a).concat(e.slice(t+r)):e.slice(0,e.length+t).concat(a).concat(e.slice(e.length+t+r))}Object.defineProperty(t,"__esModule",{value:!0});var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.arrayFrom=s,t.before=u,t.coercePath=f,t.getIn=p,t.makeError=v,t.solveRelativePath=y,t.solveUpdate=b,t.splice=g;var w=r(8),O=r(1),j=n(O),P=Function.prototype,k=function(){function e(t){a(this,e),this.size=t,this.records=[]}return _(e,[{key:"get",value:function(){return this.records}},{key:"add",value:function(e){return this.records.unshift(e),this.records.length>this.size&&(this.records.length=this.size),this}},{key:"clear",value:function(){return this.records=[],this}},{key:"back",value:function(e){var t=this.records[e-1];return t&&(this.records=this.records.slice(e)),t}}]),e}();t.Archive=k;var E=c.bind(null,!1),x=c.bind(null,!0);t.shallowClone=E,t.deepClone=x;var A="function"==typeof Object.freeze,C=A?d.bind(null,!1):P,M=A?d.bind(null,!0):P;t.freeze=C,t.deepFreeze=M;var S={data:void 0,solvedPath:null,exists:!1},I=m.bind(null,!1),F=m.bind(null,!0);t.shallowMerge=I,t.deepMerge=F;var z=function(){var e=0;return function(){return e++}}();t.uniqid=z}).call(t,r(15))},function(e,t,r){"use strict";var n=r(14),a=t.ValidationError=function(e,t,r,n,a,o){n&&(this.property=n),e&&(this.message=e),r&&(r.id?this.schema=r.id:this.schema=r),t&&(this.instance=t),this.name=a,this.argument=o,this.stack=this.toString()};a.prototype.toString=function(){return this.property+" "+this.message};var o=t.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.disableFormat=r&&r.disableFormat===!0};o.prototype.addError=function(e){var t;if("string"==typeof e)t=new a(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new a(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw t;return this.errors.push(t),t},o.prototype.importErrors=function(e){if("string"==typeof e||e&&e.validatorType)this.addError(e);else if(e&&e.errors){var t=this.errors;e.errors.forEach(function(e){t.push(e)})}},o.prototype.toString=function(e){return this.errors.map(function(e,t){return t+": "+e.toString()+"\n"}).join("")},Object.defineProperty(o.prototype,"valid",{get:function(){return!this.errors.length}});var i=t.SchemaError=function c(e,t){this.message=e,this.schema=t,Error.call(this,e),Error.captureStackTrace(this,c)};i.prototype=Object.create(Error.prototype,{constructor:{value:i,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var s=t.SchemaContext=function(e,t,r,n,a){this.schema=e,this.options=t,this.propertyPath=r,this.base=n,this.schemas=a};s.prototype.resolve=function(e){return n.resolve(this.base,e)},s.prototype.makeChild=function(e,t){var r=void 0===t?this.propertyPath:this.propertyPath+l(t),a=n.resolve(this.base,e.id||""),o=new s(e,this.options,r,a,Object.create(this.schemas));return e.id&&!o.schemas[a]&&(o.schemas[a]=e),o};var u=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(r){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/g,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],t.isFormat=function(e,t,r){if("string"==typeof e&&void 0!==u[t]){if(u[t]instanceof RegExp)return u[t].test(e);if("function"==typeof u[t])return u[t](e)}else if(r&&r.customFormats&&"function"==typeof r.customFormats[t])return r.customFormats[t](e);return!0};var l=t.makeSuffix=function(e){return e=e.toString(),e.match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};t.deepCompareStrict=function f(e,t){if(typeof e!=typeof t)return!1;if(e instanceof Array)return t instanceof Array?e.length!==t.length?!1:e.every(function(r,n){return f(e[n],t[n])}):!1;if("object"==typeof e){if(!e||!t)return e===t;var r=Object.keys(e),n=Object.keys(t);return r.length!==n.length?!1:r.every(function(r){return f(e[r],t[r])})}return e===t},e.exports.deepMerge=function h(e,t){var r=Array.isArray(t),n=r&&[]||{};return r?(e=e||[],n=n.concat(e),t.forEach(function(t,r){"object"==typeof t?n[r]=h(e[r],t):-1===e.indexOf(t)&&n.push(t)})):(e&&"object"==typeof e&&Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(r){"object"==typeof t[r]&&t[r]&&e[r]?n[r]=h(e[r],t[r]):n[r]=t[r]})),n},t.objectGetPath=function(e,t){for(var r,n=t.split("/").slice(1);"string"==typeof(r=n.shift());){var a=decodeURIComponent(r.replace(/~0/,"~").replace(/~1/g,"/"));if(!(a in e))return;e=e[a]}return e},t.encodePath=function(e){return e.map(function(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}).join("")}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){function t(t){function r(e){var r=(0,u.validate)(e,t.schema,t.actions.getFormValue()),n=r.errors.map(function(e){return e.message});t.onChange(e,n)}return s["default"].createElement(e,o({},t,{errorMessage:t.actions.getErrors(t.path),onChange:r}))}return t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(0),s=n(i),u=r(17);t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e){var t=e.schema,r=t.view,n=a(t,["view"]);if(r){var o=r.type;if("string"==typeof o){var s=(0,l.defaultWidget)(o);return u["default"].createElement(s,i({},e,{schema:n,view:r}))}if("function"==typeof o){var f=o;return u["default"].createElement(f,i({},e,{schema:n,view:r}))}}var h=Array.isArray(t.type)?t.type.find(function(e){return"null"!==e}):t.type,d=(0,l.defaultWidget)(h);return u["default"].createElement(d,i({},e,{schema:n,view:r||c}))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(0),u=n(s),l=r(13),c={};t["default"]=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),s=n(i),u=r(19),l=n(u),c=r(4),f=function d(e){var t=this;a(this,d);var r=s["default"].monkeyDefinition(e);if(!r)throw(0,c.makeError)("Baobab.monkey: invalid definition.",{definition:e});if(this.type=r,"object"===this.type)this.getter=e.get,this.projection=e.cursors||{},this.paths=Object.keys(this.projection).map(function(e){return t.projection[e]}),this.options=e.options||{};else{var n=1,o={};s["default"].object(e[e.length-1])&&(n++,o=e[e.length-1]),this.getter=e[e.length-n],this.projection=e.slice(0,-n),this.paths=this.projection,this.options=o}this.paths=this.paths.map(function(e){return[].concat(e)}),this.hasDynamicPaths=this.paths.some(s["default"].dynamicPath)};t.MonkeyDefinition=f;var h=function(){function e(t,r,n){var o=this;a(this,e),this.tree=t,this.path=r,this.definition=n;var i=n.projection,s=c.solveRelativePath.bind(null,r.slice(0,-1));"object"===n.type?(this.projection=Object.keys(i).reduce(function(e,t){return e[t]=s(i[t]),e},{}),this.depPaths=Object.keys(this.projection).map(function(e){return o.projection[e]})):(this.projection=i.map(s),this.depPaths=this.projection),this.state={killed:!1},this.writeListener=function(e){var t=e.data.path;if(!o.state.killed){var r=(0,c.solveUpdate)([t],o.relatedPaths());r&&o.update()}},this.recursiveListener=function(e){var t=e.data,r=t.monkey,n=t.path;if(!o.state.killed&&o!==r){var a=(0,c.solveUpdate)([n],o.relatedPaths(!1));a&&o.update()}},this.tree.on("write",this.writeListener),this.tree.on("_monkey",this.recursiveListener),this.update()}return o(e,[{key:"relatedPaths",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],r=void 0;r=this.definition.hasDynamicPaths?this.depPaths.map(function(t){return(0,c.getIn)(e.tree._data,t).solvedPath}):this.depPaths;var n=t&&this.depPaths.some(function(t){return!!s["default"].monkeyPath(e.tree._monkeys,t)});return n?r.reduce(function(t,r){var n=s["default"].monkeyPath(e.tree._monkeys,r);if(!n)return t.concat([r]);var a=(0,c.getIn)(e.tree._monkeys,n).data;return t.concat(a.relatedPaths())},[]):r}},{key:"update",value:function(){var e=this.tree.project(this.projection),t=function(e,t,r){var n=null,a=!1;return function(){return a||(n=t.getter.apply(e,"object"===t.type?[r]:r),e.options.immutable&&t.options.immutable!==!1&&(0,c.deepFreeze)(n),a=!0),n}}(this.tree,this.definition,e);if(t.isLazyGetter=!0,this.tree.options.lazyMonkeys)this.tree._data=(0,l["default"])(this.tree._data,this.path,{type:"monkey",value:t},this.tree.options).data;else{var r=(0,l["default"])(this.tree._data,this.path,{type:"set",value:t(),options:{mutableLeaf:!this.definition.options.immutable}},this.tree.options);"data"in r&&(this.tree._data=r.data)}return this.tree.emit("_monkey",{monkey:this,path:this.path}),this}},{key:"release",value:function(){this.tree.off("write",this.writeListener),this.tree.off("_monkey",this.monkeyListener),this.state.killed=!0,delete this.projection,delete this.depPaths,delete this.tree}}]),e}();t.Monkey=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return function(){for(var r=arguments.length,n=Array(r),a=0;r>a;a++)n[a]=arguments[a];e.apply(void 0,[t].concat(n))}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),f=n(c),h=r(34),d=n(h),p=r(28),v=n(p),m=r(53),y=n(m),b=r(33),g=n(b),_=r(27),w=n(_),O=function(e){function t(e){a(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.onChange=s(e.actions.update,e.path),r}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return y["default"].apply(this,t)}},{key:"render",value:function(){var e=this.props.schema.type,t=Array.isArray(e)?e.find(function(e){return"null"!==e}):e,r=d["default"][t]||g["default"];return f["default"].createElement(r,u({},this.props,{onChange:this.onChange}))}}]),t}(f["default"].Component);t["default"]=(0,w["default"])((0,v["default"])(O))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return function(t){e("checkbox"===t.target.type?t.target.checked:t.target.value)}}function o(e){return s["default"].createElement("input",{type:e.type,placeholder:e.schema.placeholder,value:e.value,className:e.className,onChange:a(e.onChange),checked:e.checked})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=n(i);t["default"]=o},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return"λ"+e.map(function(e){return b["default"]["function"](e)||b["default"].object(e)?"#"+I()+"#":e}).join("λ")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,r=i,n=!0,s=l=void 0}},c=r(12),f=a(c),h=r(18),d=a(h),p=r(8),v=r(49),m=a(v),y=r(1),b=a(y),g=r(19),_=a(g),w=r(4),O=n(w),j=O.arrayFrom,P=O.coercePath,k=O.deepFreeze,E=O.getIn,x=O.makeError,A=O.deepClone,C=O.deepMerge,M=O.shallowClone,S=O.shallowMerge,I=O.uniqid,F={autoCommit:!0,asynchronous:!0,immutable:!0,lazyMonkeys:!0,persistent:!0,pure:!0,validate:null,validationBehavior:"rollback"},z=function(e){function t(e,r){var n=this;if(o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),arguments.length<1&&(e={}),!b["default"].object(e)&&!b["default"].array(e))throw x("Baobab: invalid data.",{data:e});this.options=S({},F,r),this.options.persistent||(this.options.immutable=!1,this.options.pure=!1),this._identity="[object Baobab]",this._cursors={},this._future=null,this._transaction=[],this._affectedPathsIndex={},this._monkeys={},this._previousData=null,this._data=e,this.root=new d["default"](this,[],"λ"),delete this.root.release,this.options.immutable&&k(this._data);var a=function(e){n[e]=function(){var t=this.root[e].apply(this.root,arguments);return t instanceof d["default"]?this:t}};["apply","clone","concat","deepClone","deepMerge","exists","get","push","merge","pop","project","serialize","set","shift","splice","unset","unshift"].forEach(a),this._refreshMonkeys();var i=this.validate();if(i)throw Error("Baobab: invalid data.",{error:i})}return i(t,e),u(t,[{key:"_refreshMonkeys",value:function(e,t,r){var n=this,a=function s(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(e instanceof p.Monkey)return e.release(),void(0,_["default"])(n._monkeys,t,{type:"unset"},{immutable:!1,persistent:!1,pure:!1});if(b["default"].object(e))for(var r in e)s(e[r],t.concat(r))},o=function u(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(e instanceof p.MonkeyDefinition||e instanceof p.Monkey){var r=new p.Monkey(n,t,e instanceof p.Monkey?e.definition:e);return void(0,_["default"])(n._monkeys,t,{type:"set",value:r},{immutable:!1,persistent:!1,pure:!1})}if(b["default"].object(e))for(var a in e)u(e[a],t.concat(a))};if(arguments.length){var i=E(this._monkeys,t).data;i&&a(i,t),"unset"!==r&&o(e,t)}else o(this._data);return this}},{key:"validate",value:function r(e){var t=this.options,r=t.validate,n=t.validationBehavior;if("function"!=typeof r)return null;var a=r.call(this,this._previousData,this._data,e||[[]]);return a instanceof Error?("rollback"===n&&(this._data=this._previousData,this._affectedPathsIndex={},this._transaction=[],this._previousData=this._data),this.emit("invalid",{error:a}),a):null}},{key:"select",value:function(e){if(e=e||[],arguments.length>1&&(e=j(arguments)),!b["default"].path(e))throw x("Baobab.select: invalid path.",{path:e});e=[].concat(e);var t=s(e),r=this._cursors[t];return r||(r=new d["default"](this,e,t),this._cursors[t]=r),this.emit("select",{path:e,cursor:r}),r}},{key:"update",value:function(e,t){var r=this;if(e=P(e),!b["default"].operationType(t.type))throw x('Baobab.update: unknown operation type "'+t.type+'".',{operation:t});var n=E(this._data,e),a=n.solvedPath,o=n.exists;if(!a)throw x("Baobab.update: could not solve the given path.",{path:a});var i=b["default"].monkeyPath(this._monkeys,a);if(i&&a.length>i.length)throw x("Baobab.update: attempting to update a read-only path.",{path:a});if("unset"!==t.type||o){var u=t;if(/merge/i.test(t.type)){var l=E(this._monkeys,a).data;if(b["default"].object(l)){u=M(u);var c=E(this._data,a).data;/deep/i.test(u.type)?u.value=C({},C({},c,A(l)),u.value):u.value=S({},C({},c,A(l)),u.value)}}this._transaction.length||(this._previousData=this._data);var f=(0,_["default"])(this._data,a,u,this.options),h=f.data,d=f.node;if(!("data"in f))return d;var p=a.concat("push"===t.type?d.length-1:[]),v=s(p);return this._data=h,this._affectedPathsIndex[v]=!0,this._transaction.push(S({},t,{path:p})),this._refreshMonkeys(d,a,t.type),this.emit("write",{path:p}),this.options.autoCommit?this.options.asynchronous?(this._future||(this._future=setTimeout(function(){return r.commit()},0)),d):(this.commit(),d):d}}},{key:"commit",value:function(){if(!this._transaction.length)return this;this._future&&(this._future=clearTimeout(this._future));var e=Object.keys(this._affectedPathsIndex).map(function(e){return"λ"!==e?e.split("λ").slice(1):[]}),t=this.validate(e);if(t)return this;var r=this._transaction,n=this._previousData;return this._affectedPathsIndex={},this._transaction=[],this._previousData=this._data,this.emit("update",{paths:e,currentData:this._data,transaction:r,previousData:n}),this}},{key:"getMonkey",value:function(e){e=P(e);var t=E(this._monkeys,[].concat(e)).data;return t instanceof p.Monkey?t:null}},{key:"watch",value:function(e){return new m["default"](this,e)}},{key:"release",value:function(){var e=void 0;this.emit("release"),delete this.root,delete this._data,delete this._previousData,delete this._transaction,delete this._affectedPathsIndex,delete this._monkeys;for(e in this._cursors)this._cursors[e].release();delete this._cursors,this.kill()}},{key:"toJSON",value:function(){return this.serialize()}},{key:"toString",value:function(){return this._identity}}]),t}(f["default"]);t["default"]=z,z.monkey=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if(!t.length)throw new Error("Baobab.monkey: missing definition.");return 1===t.length&&"function"!=typeof t[0]?new p.MonkeyDefinition(t[0]):new p.MonkeyDefinition(t)},z.dynamicNode=z.monkey,z.Cursor=d["default"],z.MonkeyDefinition=p.MonkeyDefinition,z.Monkey=p.Monkey,z.type=b["default"],z.helpers=O,z.VERSION="2.3.2",e.exports=t["default"]},function(e,t,r){(function(){"use strict";function r(e,t){var r,n={};for(r in e)n[r]=e[r];for(r in t)n[r]=t[r];return n}function n(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Function)&&!(e instanceof RegExp)}function a(e,t,r){var n,a,o,i;for(a in e)t.call(r||null,a,e[a]);if(Object.getOwnPropertySymbols)for(n=Object.getOwnPropertySymbols(e),o=0,i=n.length;i>o;o++)t.call(r||null,n[o],e[n[o]])}function o(e,t){e=e||[];var r,n,a=[];for(n=0,r=e.length;r>n;n++)e[n].fn!==t&&a.push(e[n]);return a}var i={once:"boolean",scope:"object"},s=0,u=function(){this._enabled=!0,this.unbindAll()};u.prototype.unbindAll=function(){return this._handlers={},this._handlersAll=[],this._handlersComplex=[],this},u.prototype.on=function(e,t,r){var o,u,l,c,f,h,d;if(n(e))return a(e,function(e,r){this.on(e,r,t)},this),this;for("function"==typeof e&&(r=t,t=e,e=null),f=[].concat(e),o=0,u=f.length;u>o;o++){if(c=f[o],d={order:s++,fn:t},"string"==typeof c||"symbol"==typeof c)this._handlers[c]||(this._handlers[c]=[]),h=this._handlers[c],d.type=c;else if(c instanceof RegExp)h=this._handlersComplex,d.pattern=c;else{if(null!==c)throw Error("Emitter.on: invalid event.");h=this._handlersAll}for(l in r||{})i[l]&&(d[l]=r[l]);h.push(d)}return this},u.prototype.once=function(){var e=Array.prototype.slice.call(arguments),t=e.length-1;return n(e[t])&&e.length>1?e[t]=r(e[t],{once:!0}):e.push({once:!0}),this.on.apply(this,e)},u.prototype.off=function(e,t){var r,i,s,u;if(1===arguments.length&&"function"==typeof e){t=arguments[0];for(s in this._handlers)this._handlers[s]=o(this._handlers[s],t),0===this._handlers[s].length&&delete this._handlers[s];this._handlersAll=o(this._handlersAll,t),this._handlersComplex=o(this._handlersComplex,t)}else if(1!==arguments.length||"string"!=typeof e&&"symbol"!=typeof e)if(2===arguments.length){var l=[].concat(e);for(r=0,i=l.length;i>r;r++)u=l[r],this._handlers[u]=o(this._handlers[u],t),0===(this._handlers[u]||[]).length&&delete this._handlers[u];
}else n(e)&&a(e,this.off,this);else delete this._handlers[e];return this},u.prototype.listeners=function(e){var t,r,n,a=this._handlersAll||[],o=!1;if(!e)throw Error("Emitter.listeners: no event provided.");for(a=a.concat(this._handlers[e]||[]),r=0,n=this._handlersComplex.length;n>r;r++)t=this._handlersComplex[r],~e.search(t.pattern)&&(o=!0,a.push(t));return this._handlersAll.length||o?a.sort(function(e,t){return e.order-t.order}):a.slice(0)},u.prototype.emit=function(e,t){if(!this._enabled)return this;if(n(e))return a(e,this.emit,this),this;var r,o,i,s,u,l,c,f,h=[].concat(e),d=[];for(u=0,c=h.length;c>u;u++){for(i=this.listeners(h[u]),l=0,f=i.length;f>l;l++)s=i[l],r={type:h[u],target:this},arguments.length>1&&(r.data=t),s.fn.call("scope"in s?s.scope:this,r),s.once&&d.push(s);for(l=d.length-1;l>=0;l--)o=d[l].type?this._handlers[d[l].type]:d[l].pattern?this._handlersComplex:this._handlersAll,o.splice(o.indexOf(d[l]),1)}return this},u.prototype.kill=function(){this.unbindAll(),this._handlers=null,this._handlersAll=null,this._handlersComplex=null,this._enabled=!1,this.unbindAll=this.on=this.once=this.off=this.emit=this.listeners=Function.prototype},u.prototype.disable=function(){return this._enabled=!1,this},u.prototype.enable=function(){return this._enabled=!0,this},u.version="3.1.1","undefined"!=typeof e&&e.exports&&(t=e.exports=u),t.Emitter=u}).call(this)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return b[e]||(0,s["default"])(e)}function o(e){b=Object.assign({},b,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.undefinedWidgetFactory=t.setDefaultWidgets=t.defaultWidget=void 0;var i=r(40),s=n(i),u=r(39),l=n(u),c=r(36),f=n(c),h=r(37),d=n(h),p=r(35),v=n(p),m=r(38),y=n(m),b={string:l["default"],number:l["default"],"boolean":d["default"],array:v["default"],object:y["default"],arrowNumber:f["default"]};t.defaultWidget=a,t.setDefaultWidgets=o,t.undefinedWidgetFactory=s["default"]},function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(e,t,r){if(e&&l.isObject(e)&&e instanceof n)return e;var a=new n;return a.parse(e,t,r),a}function o(e){return l.isString(e)&&(e=a(e)),e instanceof n?e.format():n.prototype.format.call(e)}function i(e,t){return a(e,!1,!0).resolve(t)}function s(e,t){return e?a(e,!1,!0).resolveObject(t):t}var u=r(21),l=r(25);t.parse=a,t.resolve=i,t.resolveObject=s,t.format=o,t.Url=n;var c=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","	"],p=["{","}","|","\\","^","`"].concat(d),v=["'"].concat(p),m=["%","/","?",";","#"].concat(v),y=["/","?","#"],b=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},O={javascript:!0,"javascript:":!0},j={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=r(24);n.prototype.parse=function(e,t,r){if(!l.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),a=-1!==n&&n<e.indexOf("#")?"?":"#",o=e.split(a),i=/\\/g;o[0]=o[0].replace(i,"/"),e=o.join(a);var s=e;if(s=s.trim(),!r&&1===e.split("#").length){var f=h.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=P.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=c.exec(s);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,s=s.substr(d.length)}if(r||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===s.substr(0,2);!k||d&&O[d]||(s=s.substr(2),this.slashes=!0)}if(!O[d]&&(k||d&&!j[d])){for(var E=-1,x=0;x<y.length;x++){var A=s.indexOf(y[x]);-1!==A&&(-1===E||E>A)&&(E=A)}var C,M;M=-1===E?s.lastIndexOf("@"):s.lastIndexOf("@",E),-1!==M&&(C=s.slice(0,M),s=s.slice(M+1),this.auth=decodeURIComponent(C)),E=-1;for(var x=0;x<m.length;x++){var A=s.indexOf(m[x]);-1!==A&&(-1===E||E>A)&&(E=A)}-1===E&&(E=s.length),this.host=s.slice(0,E),s=s.slice(E),this.parseHost(),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S)for(var I=this.hostname.split(/\./),x=0,F=I.length;F>x;x++){var z=I[x];if(z&&!z.match(g)){for(var R="",N=0,B=z.length;B>N;N++)R+=z.charCodeAt(N)>127?"x":z[N];if(!R.match(g)){var D=I.slice(0,x),q=I.slice(x+1),T=z.match(_);T&&(D.push(T[1]),q.unshift(T[2])),q.length&&(s="/"+q.join(".")+s),this.hostname=D.join(".");break}}}this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=u.toASCII(this.hostname));var $=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+$,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!w[p])for(var x=0,F=v.length;F>x;x++){var L=v[x];if(-1!==s.indexOf(L)){var Z=encodeURIComponent(L);Z===L&&(Z=escape(L)),s=s.split(L).join(Z)}}var V=s.indexOf("#");-1!==V&&(this.hash=s.substr(V),s=s.slice(0,V));var W=s.indexOf("?");if(-1!==W?(this.search=s.substr(W),this.query=s.substr(W+1),t&&(this.query=P.parse(this.query)),s=s.slice(0,W)):t&&(this.search="",this.query={}),s&&(this.pathname=s),j[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",J=this.search||"";this.path=$+J}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(o=P.stringify(this.query));var i=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||j[t])&&a!==!1?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),i&&"?"!==i.charAt(0)&&(i="?"+i),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+a+r+i+n},n.prototype.resolve=function(e){return this.resolveObject(a(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(l.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,a=Object.keys(this),o=0;o<a.length;o++){var i=a[o];r[i]=this[i]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(r[c]=e[c])}return j[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!j[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var d=f[h];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||O[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",m=r.search||"";r.path=v+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),g=b||y||r.host&&e.pathname,_=g,w=r.pathname&&r.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],P=r.protocol&&!j[r.protocol];if(P&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),g=g&&(""===p[0]||""===w[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=e.search,r.query=e.query;else if(!l.isNullOrUndefined(e.search)){if(P){r.hostname=r.host=w.shift();var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.host=r.hostname=k.shift())}return r.search=e.search,r.query=e.query,l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=w.slice(-1)[0],x=(r.host||e.host||w.length>1)&&("."===E||".."===E)||""===E,A=0,C=w.length;C>=0;C--)E=w[C],"."===E?w.splice(C,1):".."===E?(w.splice(C,1),A++):A&&(w.splice(C,1),A--);if(!g&&!_)for(;A--;A)w.unshift("..");!g||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),x&&"/"!==w.join("/").substr(-1)&&w.push("");var M=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(P){r.hostname=r.host=M?"":w.length?w.shift():"";var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.host=r.hostname=k.shift())}return g=g||r.host&&w.length,g&&!M&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return s["default"].createElement(l["default"],o({},e,{onChange:e.onChange}))}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleStringField=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(0),s=n(i),u=r(7),l=n(u),c=r(2),f=n(c),h=r(6),d=n(h);t.SimpleStringField=a,t["default"]=(0,d["default"])((0,f["default"])(a))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r){return s.validate(e,t,{formValue:r})}Object.defineProperty(t,"__esModule",{value:!0}),t.validate=void 0;var o=r(51),i=n(o),s=new o.Validator;s.attributes.errored=function(e,t,r){if("function"!=typeof t.errored)throw new i["default"].SchemaError('"errored" expects a function');var n=t.errored(e,r.formValue);return n?n:void 0},t.validate=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!t)throw(0,v.makeError)("Baobab.Cursor."+e+": "+("cannot use "+e+" on an unresolved dynamic path."),{path:t})}function s(e,t){m.prototype[e]=function(r,n){if(arguments.length>2)throw(0,v.makeError)("Baobab.Cursor."+e+": too many arguments.");if(1!==arguments.length||y[e]||(n=r,r=[]),r=(0,v.coercePath)(r),!p["default"].path(r))throw(0,v.makeError)("Baobab.Cursor."+e+": invalid path.",{path:r});if(t&&!t(n))throw(0,v.makeError)("Baobab.Cursor."+e+": invalid value.",{path:r,value:n});if(!this.solvedPath)throw(0,v.makeError)("Baobab.Cursor."+e+": the dynamic path of the cursor cannot be solved.",{path:this.path});var a=this.solvedPath.concat(r);return this.tree.update(a,{type:e,value:n})}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,r=i,n=!0,s=l=void 0}},c=r(12),f=n(c),h=r(8),d=r(1),p=n(d),v=r(4),m=function(e){function t(e,r,n){var o=this;a(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),r=r||[],this._identity="[object Cursor]",this._archive=null,this.tree=e,this.path=r,this.hash=n,this.state={killed:!1,recording:!1,undoing:!1},this._dynamicPath=p["default"].dynamicPath(this.path),this._monkeyPath=p["default"].monkeyPath(this.tree._monkeys,this.path),this._dynamicPath?this.solvedPath=(0,v.getIn)(this.tree._data,this.path).solvedPath:this.solvedPath=this.path,this._writeHandler=function(e){var t=e.data;!o.state.killed&&(0,v.solveUpdate)([t.path],o._getComparedPaths())&&(o.solvedPath=(0,v.getIn)(o.tree._data,o.path).solvedPath)};var i=function(e){var t=o,r=Object.defineProperties({},{previousData:{get:function(){return(0,v.getIn)(e,t.solvedPath).data},configurable:!0,enumerable:!0},currentData:{get:function(){return t.get()},configurable:!0,enumerable:!0}});return o.state.recording&&!o.state.undoing&&o.archive.add(r.previousData),o.state.undoing=!1,o.emit("update",r)};this._updateHandler=function(e){if(!o.state.killed){var t=e.data,r=t.paths,n=t.previousData,a=i.bind(o,n),s=o._getComparedPaths();return(0,v.solveUpdate)(r,s)?a():void 0}};var s=!1;this._lazyBind=function(){return s?void 0:(s=!0,o._dynamicPath&&o.tree.on("write",o._writeHandler),o.tree.on("update",o._updateHandler))},this._dynamicPath?this._lazyBind():(this.on=(0,v.before)(this._lazyBind,this.on.bind(this)),this.once=(0,v.before)(this._lazyBind,this.once.bind(this)))}return o(t,e),u(t,[{key:"_getComparedPaths",value:function(){var e=this._monkeyPath?(0,v.getIn)(this.tree._monkeys,this._monkeyPath).data.relatedPaths():[];return[this.solvedPath].concat(e)}},{key:"isRoot",value:function(){return!this.path.length}},{key:"isLeaf",value:function(){return p["default"].primitive(this._get().data)}},{key:"isBranch",value:function(){return!this.isRoot()&&!this.isLeaf()}},{key:"root",value:function(){return this.tree.select()}},{key:"select",value:function(e){return arguments.length>1&&(e=(0,v.arrayFrom)(arguments)),this.tree.select(this.path.concat(e))}},{key:"up",value:function(){return this.isRoot()?null:this.tree.select(this.path.slice(0,-1))}},{key:"down",value:function(){if(i("down",this.solvedPath),!(this._get().data instanceof Array))throw Error("Baobab.Cursor.down: cannot go down on a non-list type.");return this.tree.select(this.solvedPath.concat(0))}},{key:"left",value:function(){i("left",this.solvedPath);var e=+this.solvedPath[this.solvedPath.length-1];if(isNaN(e))throw Error("Baobab.Cursor.left: cannot go left on a non-list type.");return e?this.tree.select(this.solvedPath.slice(0,-1).concat(e-1)):null}},{key:"right",value:function(){i("right",this.solvedPath);var e=+this.solvedPath[this.solvedPath.length-1];if(isNaN(e))throw Error("Baobab.Cursor.right: cannot go right on a non-list type.");return e+1===this.up()._get().data.length?null:this.tree.select(this.solvedPath.slice(0,-1).concat(e+1))}},{key:"leftmost",value:function(){i("leftmost",this.solvedPath);var e=+this.solvedPath[this.solvedPath.length-1];if(isNaN(e))throw Error("Baobab.Cursor.leftmost: cannot go left on a non-list type.");return this.tree.select(this.solvedPath.slice(0,-1).concat(0))}},{key:"rightmost",value:function(){i("rightmost",this.solvedPath);var e=+this.solvedPath[this.solvedPath.length-1];if(isNaN(e))throw Error("Baobab.Cursor.rightmost: cannot go right on a non-list type.");var t=this.up()._get().data;return this.tree.select(this.solvedPath.slice(0,-1).concat(t.length-1))}},{key:"map",value:function(e,t){i("map",this.solvedPath);var r=this._get().data,n=arguments.length;if(!p["default"].array(r))throw Error("baobab.Cursor.map: cannot map a non-list type.");return r.map(function(a,o){return e.call(n>1?t:this,this.select(o),o,r)},this)}},{key:"_get",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(!p["default"].path(e))throw(0,v.makeError)("Baobab.Cursor.getters: invalid path.",{path:e});return this.solvedPath?(0,v.getIn)(this.tree._data,this.solvedPath.concat(e)):{data:void 0,solvedPath:null,exists:!1}}},{key:"exists",value:function(e){return e=(0,v.coercePath)(e),arguments.length>1&&(e=(0,v.arrayFrom)(arguments)),this._get(e).exists}},{key:"get",value:function(e){e=(0,v.coercePath)(e),arguments.length>1&&(e=(0,v.arrayFrom)(arguments));var t=this._get(e),r=t.data,n=t.solvedPath;return this.tree.emit("get",{data:r,solvedPath:n,path:this.path.concat(e)}),r}},{key:"clone",value:function(){var e=this.get.apply(this,arguments);return(0,v.shallowClone)(e)}},{key:"deepClone",value:function(){var e=this.get.apply(this,arguments);return(0,v.deepClone)(e)}},{key:"serialize",value:function(e){if(e=(0,v.coercePath)(e),arguments.length>1&&(e=(0,v.arrayFrom)(arguments)),!p["default"].path(e))throw(0,v.makeError)("Baobab.Cursor.getters: invalid path.",{path:e});if(this.solvedPath){var t=this.solvedPath.concat(e),r=(0,v.deepClone)((0,v.getIn)(this.tree._data,t).data),n=(0,v.getIn)(this.tree._monkeys,t).data,a=function o(e,t){if(p["default"].object(t)&&p["default"].object(e))for(var r in t)t[r]instanceof h.Monkey?delete e[r]:o(e[r],t[r])};return a(r,n),r}}},{key:"project",value:function(e){if(p["default"].object(e)){var t={};for(var r in e)t[r]=this.get(e[r]);return t}if(p["default"].array(e)){for(var t=[],n=0,a=e.length;a>n;n++)t.push(this.get(e[n]));return t}throw(0,v.makeError)("Baobab.Cursor.project: wrong projection.",{projection:e})}},{key:"startRecording",value:function(e){if(e=e||1/0,1>e)throw(0,v.makeError)("Baobab.Cursor.startRecording: invalid max records.",{value:e});return this.state.recording=!0,this.archive?this:(this._lazyBind(),this.archive=new v.Archive(e),this)}},{key:"stopRecording",value:function(){return this.state.recording=!1,this}},{key:"undo",value:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];if(!this.state.recording)throw new Error("Baobab.Cursor.undo: cursor is not recording.");var t=this.archive.back(e);if(!t)throw Error("Baobab.Cursor.undo: cannot find a relevant record.");return this.state.undoing=!0,this.set(t),this}},{key:"hasHistory",value:function(){return!(!this.archive||!this.archive.get().length)}},{key:"getHistory",value:function(){return this.archive?this.archive.get():[]}},{key:"clearHistory",value:function(){return this.archive&&this.archive.clear(),this}},{key:"release",value:function(){this._dynamicPath&&this.tree.off("write",this._writeHandler),this.tree.off("update",this._updateHandler),this.hash&&delete this.tree._cursors[this.hash],delete this.tree,delete this.path,delete this.solvedPath,delete this.archive,this.kill(),this.state.killed=!0}},{key:"toJSON",value:function(){return this.serialize()}},{key:"toString",value:function(){return this._identity}}]),t}(f["default"]);t["default"]=m,"function"==typeof Symbol&&"undefined"!=typeof Symbol.iterator&&(m.prototype[Symbol.iterator]=function(){var e=this._get().data;if(!p["default"].array(e))throw Error("baobab.Cursor.@@iterate: cannot iterate a non-list type.");var t=0,r=this,n=e.length;return{next:function(){return n>t?{value:r.select(t++)}:{done:!0}}}});var y={unset:!0,pop:!0,shift:!0};s("set"),s("unset"),s("apply",p["default"]["function"]),s("push"),s("concat",p["default"].array),s("unshift"),s("pop"),s("shift"),s("splice",p["default"].splicer),s("merge",p["default"].object),s("deepMerge",p["default"].object),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t,r){return(0,l.makeError)('Baobab.update: cannot apply the "'+e+'" on '+("a non "+t+" (path: /"+r.join("/")+")."),{path:r})}function i(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],i=r.type,s=r.value,c=r.options,f=void 0===c?{}:c,h={root:e},d=["root"].concat(a(t)),p=[],v=h,m=void 0,y=void 0,b=void 0;for(m=0,y=d.length;y>m;m++){if(b=d[m],m>0&&p.push(b),m===y-1){if("set"===i){if(n.pure&&v[b]===s)return{node:v[b]};u["default"].lazyGetter(v,b)?Object.defineProperty(v,b,{value:s,enumerable:!0,configurable:!0}):n.persistent&&!f.mutableLeaf?v[b]=(0,l.shallowClone)(s):v[b]=s}else if("monkey"===i)Object.defineProperty(v,b,{get:s,enumerable:!0,configurable:!0});else if("apply"===i){var g=s(v[b]);if(n.pure&&v[b]===g)return{node:v[b]};u["default"].lazyGetter(v,b)?Object.defineProperty(v,b,{value:g,enumerable:!0,configurable:!0}):n.persistent?v[b]=(0,l.shallowClone)(g):v[b]=g}else if("push"===i){if(!u["default"].array(v[b]))throw o("push","array",p);n.persistent?v[b]=v[b].concat([s]):v[b].push(s)}else if("unshift"===i){if(!u["default"].array(v[b]))throw o("unshift","array",p);n.persistent?v[b]=[s].concat(v[b]):v[b].unshift(s)}else if("concat"===i){if(!u["default"].array(v[b]))throw o("concat","array",p);n.persistent?v[b]=v[b].concat(s):v[b].push.apply(v[b],s)}else if("splice"===i){if(!u["default"].array(v[b]))throw o("splice","array",p);n.persistent?v[b]=l.splice.apply(null,[v[b]].concat(s)):v[b].splice.apply(v[b],s)}else if("pop"===i){if(!u["default"].array(v[b]))throw o("pop","array",p);n.persistent?v[b]=(0,l.splice)(v[b],-1,1):v[b].pop()}else if("shift"===i){if(!u["default"].array(v[b]))throw o("shift","array",p);n.persistent?v[b]=(0,l.splice)(v[b],0,1):v[b].shift()}else if("unset"===i)u["default"].object(v)?delete v[b]:u["default"].array(v)&&v.splice(b,1);else if("merge"===i){if(!u["default"].object(v[b]))throw o("merge","object",p);n.persistent?v[b]=(0,l.shallowMerge)({},v[b],s):v[b]=(0,l.shallowMerge)(v[b],s)}else if("deepMerge"===i){if(!u["default"].object(v[b]))throw o("deepMerge","object",p);n.persistent?v[b]=(0,l.deepMerge)({},v[b],s):v[b]=(0,l.deepMerge)(v[b],s)}n.immutable&&!f.mutableLeaf&&(0,l.deepFreeze)(v);break}u["default"].primitive(v[b])?v[b]={}:n.persistent&&(v[b]=(0,l.shallowClone)(v[b])),n.immutable&&y>0&&(0,l.freeze)(v),v=v[b]}return u["default"].lazyGetter(v,b)?{data:h.root}:{data:h.root,node:v[b]}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var s=r(1),u=n(s),l=r(4);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),c=a(l),f=r(42),h=a(f),d=r(48),p=r(9),v=a(p),m=r(41),y=n(m),b=r(17),g=(0,d.branch)({schema:"schema",status:"status",value:"value"},v["default"]),_=function(e){function t(e){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e));return r.tree=(0,h["default"])(),r.tree.select("value").set(e.value),r.tree.select("schema").set(e.schema),r.tree.select("value").on("update",function(e){return r.props.onChange(e.data.currentData)}),r.ACTIONS={},Object.keys(y).forEach(function(e){r.ACTIONS[e]=y[e].bind(r.tree,r.tree)}),r.rooted=(0,d.root)(r.tree,g),r}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.tree.select("value").set(e.value),this.tree.select("schema").set(e.schema)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.tree.release()}},{key:"getValue",value:function(){return this.tree.get("value")}},{key:"validate",value:function(){var e=(0,b.validate)(this.tree.get("value"),this.tree.get("schema"),this.ACTIONS.getFormValue()),t=this.ACTIONS.setErrors,r=new Map;return e.errors.forEach(function(e){var t=r.get(e.property)||[];t.push(e.message),r.set(e.property,t)}),r.forEach(function(e,r){t(r.split(/\.|\[|\]/).filter(function(e){return""!==e}).slice(1),e)}),e.errors}},{key:"render",value:function(){var e=this.rooted;return c["default"].createElement(e,{onChange:this.props.onChange,path:[],actions:this.ACTIONS})}}]),t}(c["default"].Component);t["default"]=_},function(e,t,r){(function(e,n){var a;!function(o){function i(e){throw new RangeError(I[e])}function s(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function u(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(S,".");var a=e.split("."),o=s(a,t).join(".");return n+o}function l(e){for(var t,r,n=[],a=0,o=e.length;o>a;)t=e.charCodeAt(a++),t>=55296&&56319>=t&&o>a?(r=e.charCodeAt(a++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--)):n.push(t);return n}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function f(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:w}function h(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function d(e,t,r){var n=0;for(e=r?z(e/k):e>>1,e+=z(e/t);e>F*j>>1;n+=w)e=z(e/F);return z(n+(F+1)*e/(e+P))}function p(e){var t,r,n,a,o,s,u,l,h,p,v=[],m=e.length,y=0,b=x,g=E;for(r=e.lastIndexOf(A),0>r&&(r=0),n=0;r>n;++n)e.charCodeAt(n)>=128&&i("not-basic"),v.push(e.charCodeAt(n));for(a=r>0?r+1:0;m>a;){for(o=y,s=1,u=w;a>=m&&i("invalid-input"),l=f(e.charCodeAt(a++)),(l>=w||l>z((_-y)/s))&&i("overflow"),y+=l*s,h=g>=u?O:u>=g+j?j:u-g,!(h>l);u+=w)p=w-h,s>z(_/p)&&i("overflow"),s*=p;t=v.length+1,g=d(y-o,t,0==o),z(y/t)>_-b&&i("overflow"),b+=z(y/t),y%=t,v.splice(y++,0,b)}return c(v)}function v(e){var t,r,n,a,o,s,u,c,f,p,v,m,y,b,g,P=[];for(e=l(e),m=e.length,t=x,r=0,o=E,s=0;m>s;++s)v=e[s],128>v&&P.push(R(v));for(n=a=P.length,a&&P.push(A);m>n;){for(u=_,s=0;m>s;++s)v=e[s],v>=t&&u>v&&(u=v);for(y=n+1,u-t>z((_-r)/y)&&i("overflow"),r+=(u-t)*y,t=u,s=0;m>s;++s)if(v=e[s],t>v&&++r>_&&i("overflow"),v==t){for(c=r,f=w;p=o>=f?O:f>=o+j?j:f-o,!(p>c);f+=w)g=c-p,b=w-p,P.push(R(h(p+g%b,0))),c=z(g/b);P.push(R(h(c,0))),o=d(r,y,n==a),r=0,++n}++r,++t}return P.join("")}function m(e){return u(e,function(e){return C.test(e)?p(e.slice(4).toLowerCase()):e})}function y(e){return u(e,function(e){return M.test(e)?"xn--"+v(e):e})}var b=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof n&&n);b.global!==b&&b.window!==b&&b.self!==b||(o=b);var g,_=2147483647,w=36,O=1,j=26,P=38,k=700,E=72,x=128,A="-",C=/^xn--/,M=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=w-O,z=Math.floor,R=String.fromCharCode;g={version:"1.4.1",ucs2:{decode:l,encode:c},decode:p,encode:v,toASCII:y,toUnicode:m},a=function(){return g}.call(t,r,t,e),!(void 0!==a&&(e.exports=a))}(this)}).call(t,r(26)(e),r(15))},function(e,t){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,a,o){t=t||"&",a=a||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;l>c;++c){var f,h,d,p,v=e[c].replace(s,"%20"),m=v.indexOf(a);m>=0?(f=v.substr(0,m),h=v.substr(m+1)):(f=v,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),r(i,d)?n(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t){"use strict";function r(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,s){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?r(o(e),function(o){var s=encodeURIComponent(n(o))+i;return a(e[o])?r(e[o],function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[o]))}).join(t):s?encodeURIComponent(n(s))+i+encodeURIComponent(n(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";t.decode=t.parse=r(22),t.encode=t.stringify=r(23)},function(e,t){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,configurable:!1,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,configurable:!1,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){return t?e.concat([t]):e}function o(e){function t(t){var r=t.schema,n=a(t.path,t.editKey),o=r;return o||(o=(0,l.infer)(t.value)),u["default"].createElement(e,i({},t,{path:n,schema:o}))}return t}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(0),u=n(s),l=r(43);t["default"]=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){function t(t){var r=t.schema.visible,n=t.value;return r&&!r(n,t.actions.getFormValue())?null:i["default"].createElement(e,t)}return t}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=n(o);t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){return function(r){var n=t.value;n?t.onChange(n.map(function(t,n){return+n!==+e?t:r})):t.onChange([r])}}function o(e){return function(t){return function(){var r=e.value||[];e.onChange(r.filter(function(e,r){return Number(r)!==Number(t)}))}}}function i(e){return function(){var t=e.value||[];e.onChange(t.concat([void 0]))}}function s(e){var t=e.value,r=e.schema,n=r.defaultValue,o=r.items,i=o||{type:"string"},s=void 0;s=t?t:n?n:[];var u=[];return s.forEach(function(t,r){return u.push(f["default"].createElement(d["default"],l({},e,{schema:i,value:t,editKey:String(r),key:r,onChange:a(r,e)})))}),u}function u(e){return f["default"].createElement(v["default"],l({},e,{onChildAdd:i(e),onChildRemove:o(e)}),s(e))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=r(0),f=n(c),h=r(9),d=n(h),p=r(7),v=n(p),m=r(2),y=n(m);t["default"]=(0,y["default"])(u)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return i["default"].createElement(u["default"],e)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=n(o),s=r(7),u=n(s),l=r(2),c=n(l),f=r(6),h=n(f);
t["default"]=(0,h["default"])((0,c["default"])(a))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),c=n(l),f=r(6),h=n(f),d=r(2),p=n(d),v=r(16),m=function(e){function t(e){a(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.state={value:e.value},r.boundChange=r.onChange.bind(r),r}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){Number(this.state.value)!==Number(e.value)&&this.setState({value:e.value})}},{key:"onChange",value:function(e){var t=this,r=""===e?void 0:e,n=Number(r);this.setState({value:r},function(){return t.props.onChange(isNaN(n)?r:n)})}},{key:"render",value:function(){return c["default"].createElement(v.SimpleStringField,s({},this.props,{value:this.state.value,onChange:this.boundChange}))}}]),t}(c["default"].Component);t["default"]=(0,h["default"])((0,p["default"])(m))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){function t(e,t){var r=n[e]?n[e].index||0:0,a=n[t]?n[t].index||0:0;return r-a}var r=[],n=e.schema.properties||{},a=e.value||{},o=Object.keys(n);Object.keys(a).forEach(function(e){n.hasOwnProperty(e)||o.push(e)}),o.sort(t);for(var i=0;i<o.length;i+=1){var u=o[i];if(n.hasOwnProperty(u))r.push(l["default"].createElement(f["default"],s({},e,{schema:n[u],value:a[u],editKey:u,key:u})));else{var c=e.schema.defaultProperties;r.push(l["default"].createElement(f["default"],s({},e,{schema:c,value:a[u],editKey:u,key:u})))}}return r}function i(e){function t(t,r){e.onChange(Object.assign({},e.value,a({},t,r)))}function r(t){var r=Object.assign({},e.value);delete r[t],e.onChange(r)}function n(t,r){var n={};Object.keys(e.value).forEach(function(a){a!==t?n[a]=e.value[a]:n[r]=e.value[a]}),e.onChange(n)}return l["default"].createElement(v["default"],s({},e,{addKey:t,removeKey:r,alterKey:n}),o(e))}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=r(0),l=n(u),c=r(9),f=n(c),h=r(2),d=n(h),p=r(7),v=n(p),m=r(6),y=n(m);t["default"]=(0,y["default"])((0,d["default"])(i))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return i["default"].createElement("span",null,'Undefined field type "'+e.schema.type+'", ['+e.path+"]")}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=n(o);t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(32),o=n(a),i=r(16),s=n(i),u=r(31),l=n(u),c=r(30),f=n(c),h=r(29),d=n(h);t["default"]={object:o["default"],string:s["default"],number:l["default"],"boolean":f["default"],array:d["default"]}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){function t(t,r){return i["default"].createElement("div",null,i["default"].createElement("span",{onClick:e.onChildRemove(r)},"-"),t)}var r=i["default"].Children.map(e.children,t);return i["default"].createElement("div",null,i["default"].createElement("div",null,r),i["default"].createElement("span",{onClick:e.onChildAdd},"+"))}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=n(o),s=r(3),u=n(s);t["default"]=(0,u["default"])(a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return s["default"].createElement(f["default"],o({},e,{type:"number"}))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(0),s=n(i),u=r(3),l=n(u),c=r(10),f=n(c);t["default"]=(0,l["default"])(a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return s["default"].createElement(f["default"],o({},e,{type:"checkbox",checked:e.value}))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(0),s=n(i),u=r(3),l=n(u),c=r(10),f=n(c);t["default"]=(0,l["default"])(a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return i["default"].createElement("div",null,e.children)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=n(o),s=r(3),u=n(s);t["default"]=(0,u["default"])(a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return s["default"].createElement(f["default"],o({},e,{type:"string"}))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(0),s=n(i),u=r(3),l=n(u),c=r(10),f=n(c);t["default"]=(0,l["default"])(a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){return function(){return i["default"].createElement("span",null,"Widget for '"+e+"' was not defined")}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=n(o);t["default"]=a},function(e,t){"use strict";function r(e,t,r){var n=[c].concat(t).concat([h]),a=e.select(n);r&&r.length&&Array.isArray(a.get())?(a.splice([0,a.get().length]),a.concat(r||[])):a.set(r||d)}function n(e,t,n,a){var o=[c].concat(t);e.set([l].concat(t),n),e.set(o.concat([f]),"dirty"),r(e,t,a)}function a(e,t,r){e.set([l].concat(t),r),e.set([c].concat(t).concat([f]),"pristine")}function o(e,t){return e.get([c].concat(t).concat([f]))}function i(e,t){return e.get([c].concat(t).concat([h]))||d}function s(e){return e.get(l)}function u(e,t,r){var n=t.reduce(function(t,r){return"object"===e.get(t).type?t.concat(["properties",r]):"array"===e.get(t).type?t.concat(["items"]):t.concat([r])},["schema"]);e.set(n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.setErrors=r,t.update=n,t.setDefaultValue=a,t.getStatus=o,t.getErrors=i,t.getFormValue=s,t.updateSchema=u;var l="value",c="status",f="state",h="errors",d=[]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(11),o=n(a),i=function(){return new o["default"]({schema:{},value:{},status:{}})};t["default"]=i},function(e,t){"use strict";function r(e){switch("undefined"==typeof e?"undefined":n(e)){case"number":return{type:"number"};case"string":return{type:"string"};case"boolean":return{type:"boolean"};case"object":return{type:Array.isArray(e)?"array":"object"};default:return{type:"string"}}}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.infer=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultWidgets=void 0;var a=r(20),o=n(a),i=r(13);t["default"]=o["default"],t.setDefaultWidgets=i.setDefaultWidgets},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.name||e.displayName||"Component"}function u(e,t){throw _('baobab-react/higher-order.branch: given cursors mapping is invalid (check the "'+e+'" component).',{mapping:t})}function l(e,t){if(!(e instanceof m["default"]))throw _("baobab-react/higher-order.root: given tree is not a Baobab.",{target:e});if("function"!=typeof t)throw Error("baobab-react/higher-order.root: given target is not a valid React component.");var r=s(t),n=function(r){function n(){return a(this,n),o(this,Object.getPrototypeOf(n).apply(this,arguments))}return i(n,r),h(n,[{key:"getChildContext",value:function(){return{tree:e}}},{key:"render",value:function(){return p["default"].createElement(t,this.props)}}]),n}(p["default"].Component);return n.displayName="Rooted"+r,n.childContextTypes={tree:g["default"].baobab},n}function c(e,t){if("function"!=typeof t)throw Error("baobab-react/higher-order.branch: given target is not a valid React component.");var r=s(t);w(e)||"function"==typeof e||u(r,e);var n=function(n){function s(t,n){a(this,s);var i=o(this,Object.getPrototypeOf(s).call(this,t,n));if(e){var l=(0,y.solveMapping)(e,t,n);l||u(r,l),i.watcher=i.context.tree.watch(l),i.state=i.watcher.get()}return i}return i(s,n),h(s,[{key:"getDecoratedComponentInstance",value:function(){return this.decoratedComponentInstance}},{key:"handleChildRef",value:function(e){this.decoratedComponentInstance=e}}]),h(s,[{key:"componentWillMount",value:function(){var e=this;if(this.dispatcher=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;r>a;a++)n[a-1]=arguments[a];return t.apply(void 0,[e.context.tree].concat(n))},this.watcher){var t=function(){e.watcher&&e.setState(e.watcher.get())};this.watcher.on("update",t)}}},{key:"render",value:function(){var e={dispatch:this.dispatcher};return p["default"].createElement(t,f({},this.props,e,this.state,{ref:this.handleChildRef.bind(this)}))}},{key:"componentWillUnmount",value:function(){this.watcher&&(this.watcher.release(),this.watcher=null)}},{key:"componentWillReceiveProps",value:function(t){if(this.watcher&&"function"==typeof e){var n=(0,y.solveMapping)(e,t,this.context);n||u(r,n),this.watcher.refresh(n),this.setState(this.watcher.get())}}}]),s}(p["default"].Component);return n.displayName="Branched"+r,n.contextTypes={tree:g["default"].baobab},n}Object.defineProperty(t,"__esModule",{value:!0}),t.branch=t.root=void 0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(0),p=n(d),v=r(11),m=n(v),y=r(46),b=r(47),g=n(b),_=m["default"].helpers.makeError,w=m["default"].type.object,O=(0,y.curry)(l,2),j=(0,y.curry)(c,2);t.root=O,t.branch=j},function(e,t){"use strict";function r(e,t){return function r(){for(var n=arguments.length,a=Array(n),o=0;n>o;o++)a[o]=arguments[o];return a.length>=t?e.apply(null,a):function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return r.apply(null,a.concat(t))}}}function n(e,t,r){return"function"==typeof e&&(e=e(t,r)),e}Object.defineProperty(t,"__esModule",{value:!0}),t.curry=r,t.solveMapping=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){return"prop type `"+e+"` is invalid; it must be "+t+"."}Object.defineProperty(t,"__esModule",{value:!0});var o=r(11),i=n(o);t["default"]={baobab:function(e,t){return t in e?e[t]instanceof i["default"]?void 0:new Error(a(t,"a Baobab tree")):void 0}}},function(e,t,r){var n=r(45);t.root=n.root,t.branch=n.branch},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,r=i,n=!0,s=l=void 0}},u=r(12),l=n(u),c=r(18),f=n(c),h=r(1),d=n(h),p=r(4),v=function(e){function t(e,r){var n=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.tree=e,this.mapping=null,this.state={killed:!1},this.refresh(r),this.handler=function(e){if(!n.state.killed){var t=n.getWatchedPaths();return(0,p.solveUpdate)(e.data.paths,t)?n.emit("update"):void 0}},this.tree.on("update",this.handler)}return o(t,e),i(t,[{key:"getWatchedPaths",value:function(){var e=this,t=Object.keys(this.mapping).map(function(t){var r=e.mapping[t];return r instanceof f["default"]?r.solvedPath:e.mapping[t]});return t.reduce(function(t,r){if(r=[].concat(r),d["default"].dynamicPath(r)&&(r=(0,p.getIn)(e.tree._data,r).solvedPath),!r)return t;var n=d["default"].monkeyPath(e.tree._monkeys,r);return n?t.concat((0,p.getIn)(e.tree._monkeys,n).data.relatedPaths()):t.concat([r])},[])}},{key:"getCursors",value:function(){var e=this,t={};return Object.keys(this.mapping).forEach(function(r){var n=e.mapping[r];n instanceof f["default"]?t[r]=n:t[r]=e.tree.select(n)}),t}},{key:"refresh",value:function(e){if(!d["default"].watcherMapping(e))throw(0,p.makeError)("Baobab.watch: invalid mapping.",{mapping:e});this.mapping=e;var t={};for(var r in e)t[r]=e[r]instanceof f["default"]?e[r].path:e[r];this.get=this.tree.project.bind(this.tree,t)}},{key:"release",value:function(){this.tree.off("update",this.handler),this.state.killed=!0,this.kill()}}]),t}(l["default"]);t["default"]=v,e.exports=t["default"]},function(e,t,r){"use strict";function n(e,t,r,n){return this.validateSchema(e,n,t,r).valid}function a(e,t,r,n,a,o){if(!t.properties||void 0===t.properties[a])if(t.additionalProperties===!1)o.addError({name:"additionalProperties",argument:a,message:"additionalProperty "+JSON.stringify(a)+" exists in instance when not allowed"});else{var i=t.additionalProperties||{},s=this.validateSchema(e[a],i,r,n.makeChild(i,a));s.instance!==o.instance[a]&&(o.instance[a]=s.instance),o.importErrors(s)}}function o(e,t,r){var n,a=r.length;for(n=t+1,a;a>n;n++)if(i.deepCompareStrict(e,r[n]))return!1;return!0}var i=r(5),s=i.ValidatorResult,u=i.SchemaError,l={};l.ignoreProperties={id:!0,"default":!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,"extends":!0};var c=l.validators={};c.type=function(e,t,r,n){if(void 0===e)return null;var a=new s(e,t,r,n),o=t.type instanceof Array?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,r,n))){var i=o.map(function(e){return e.id&&"<"+e.id+">"||e+""});a.addError({name:"type",argument:i,message:"is not of a type(s) "+i})}return a},c.anyOf=function(e,t,r,a){if(void 0===e)return null;var o=new s(e,t,r,a);if(!(t.anyOf instanceof Array))throw new u("anyOf must be an array");if(!t.anyOf.some(n.bind(this,e,r,a))){var i=t.anyOf.map(function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});o.addError({name:"anyOf",argument:i,message:"is not any of "+i.join(",")})}return o},c.allOf=function(e,t,r,n){if(void 0===e)return null;if(!(t.allOf instanceof Array))throw new u("allOf must be an array");var a=new s(e,t,r,n),o=this;return t.allOf.forEach(function(t,i){var s=o.validateSchema(e,t,r,n);if(!s.valid){var u=t.id&&"<"+t.id+">"||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+i+"]";a.addError({name:"allOf",argument:{id:u,length:s.errors.length,valid:s},message:"does not match allOf schema "+u+" with "+s.errors.length+" error[s]:"}),a.importErrors(s)}}),a},c.oneOf=function(e,t,r,a){if(void 0===e)return null;if(!(t.oneOf instanceof Array))throw new u("oneOf must be an array");var o=new s(e,t,r,a),i=t.oneOf.filter(n.bind(this,e,r,a)).length,l=t.oneOf.map(function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});return 1!==i&&o.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")}),o},c.properties=function(e,t,r,n){if(void 0!==e&&e instanceof Object){var a=new s(e,t,r,n),o=t.properties||{};for(var i in o){var u=(e||void 0)&&e[i],l=this.validateSchema(u,o[i],r,n.makeChild(o[i],i));l.instance!==a.instance[i]&&(a.instance[i]=l.instance),a.importErrors(l)}return a}},c.patternProperties=function(e,t,r,n){if(void 0!==e&&this.types.object(e)){var o=new s(e,t,r,n),i=t.patternProperties||{};for(var u in e){var l=!0;for(var c in i){var f=new RegExp(c);if(f.test(u)){l=!1;var h=this.validateSchema(e[u],i[c],r,n.makeChild(i[c],u));h.instance!==o.instance[u]&&(o.instance[u]=h.instance),o.importErrors(h)}}l&&a.call(this,e,t,r,n,u,o)}return o}},c.additionalProperties=function(e,t,r,n){if(void 0!==e&&this.types.object(e)){if(t.patternProperties)return null;var o=new s(e,t,r,n);for(var i in e)a.call(this,e,t,r,n,i,o);return o}},c.minProperties=function(e,t,r,n){if(!e||"object"!=typeof e)return null;var a=new s(e,t,r,n),o=Object.keys(e);return o.length>=t.minProperties||a.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),a},c.maxProperties=function(e,t,r,n){if(!e||"object"!=typeof e)return null;var a=new s(e,t,r,n),o=Object.keys(e);return o.length<=t.maxProperties||a.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),a},c.items=function(e,t,r,n){if(!(e instanceof Array))return null;var a=this,o=new s(e,t,r,n);return void 0!==e&&t.items?(e.every(function(e,i){var s=t.items instanceof Array?t.items[i]||t.additionalItems:t.items;if(void 0===s)return!0;if(s===!1)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=a.validateSchema(e,s,r,n.makeChild(s,i));return u.instance!==o.instance[i]&&(o.instance[i]=u.instance),o.importErrors(u),!0}),o):o},c.minimum=function(e,t,r,n){if("number"!=typeof e)return null;var a=new s(e,t,r,n),o=!0;return o=t.exclusiveMinimum&&t.exclusiveMinimum===!0?e>t.minimum:e>=t.minimum,o||a.addError({name:"minimum",argument:t.minimum,message:"must have a minimum value of "+t.minimum}),a},c.maximum=function(e,t,r,n){if("number"!=typeof e)return null;var a,o=new s(e,t,r,n);return a=t.exclusiveMaximum&&t.exclusiveMaximum===!0?e<t.maximum:e<=t.maximum,a||o.addError({name:"maximum",argument:t.maximum,message:"must have a maximum value of "+t.maximum}),o},c.divisibleBy=function(e,t,r,n){if("number"!=typeof e)return null;if(0==t.divisibleBy)throw new u("divisibleBy cannot be zero");var a=new s(e,t,r,n);return e/t.divisibleBy%1&&a.addError({name:"divisibleBy",argument:t.divisibleBy,message:"is not divisible by (multiple of) "+JSON.stringify(t.divisibleBy)}),a},c.multipleOf=function(e,t,r,n){if("number"!=typeof e)return null;if(0==t.multipleOf)throw new u("multipleOf cannot be zero");var a=new s(e,t,r,n);return e/t.multipleOf%1&&a.addError({name:"multipleOf",argument:t.multipleOf,message:"is not a multiple of (divisible by) "+JSON.stringify(t.multipleOf)}),a},c.required=function(e,t,r,n){var a=new s(e,t,r,n);return void 0===e&&t.required===!0?a.addError({name:"required",message:"is required"}):e&&"object"==typeof e&&Array.isArray(t.required)&&t.required.forEach(function(t){void 0===e[t]&&a.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})}),a},c.pattern=function(e,t,r,n){if("string"!=typeof e)return null;var a=new s(e,t,r,n);return e.match(t.pattern)||a.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern)}),a},c.format=function(e,t,r,n){var a=new s(e,t,r,n);return a.disableFormat||i.isFormat(e,t.format,this)||a.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),a},c.minLength=function(e,t,r,n){if("string"!=typeof e)return null;var a=new s(e,t,r,n);return e.length>=t.minLength||a.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),a},c.maxLength=function(e,t,r,n){if("string"!=typeof e)return null;var a=new s(e,t,r,n);return e.length<=t.maxLength||a.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),a},c.minItems=function(e,t,r,n){if(!(e instanceof Array))return null;var a=new s(e,t,r,n);return e.length>=t.minItems||a.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),a},c.maxItems=function(e,t,r,n){if(!(e instanceof Array))return null;var a=new s(e,t,r,n);return e.length<=t.maxItems||a.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),a},c.uniqueItems=function(e,t,r,n){function a(e,t,r){for(var n=t+1;n<r.length;n++)if(i.deepCompareStrict(e,r[n]))return!1;return!0}var o=new s(e,t,r,n);return e instanceof Array?(e.every(a)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o):o},c.uniqueItems=function(e,t,r,n){if(!(e instanceof Array))return null;var a=new s(e,t,r,n);return e.every(o)||a.addError({name:"uniqueItems",message:"contains duplicate item"}),a},c.dependencies=function(e,t,r,n){if(!e||"object"!=typeof e)return null;var a=new s(e,t,r,n);for(var o in t.dependencies)if(void 0!==e[o]){var i=t.dependencies[o],u=n.makeChild(i,o);if("string"==typeof i&&(i=[i]),i instanceof Array)i.forEach(function(t){void 0===e[t]&&a.addError({name:"dependencies",argument:u.propertyPath,message:"property "+t+" not found, required by "+u.propertyPath})});else{var l=this.validateSchema(e,i,r,u);a.instance!==l.instance&&(a.instance=l.instance),l&&l.errors.length&&(a.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),a.importErrors(l))}}return a},c["enum"]=function(e,t,r,n){if(!(t["enum"]instanceof Array))throw new u("enum expects an array",t);if(void 0===e)return null;var a=new s(e,t,r,n);return t["enum"].some(i.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:t["enum"],message:"is not one of enum values: "+t["enum"].join(",")}),a},c.not=c.disallow=function(e,t,r,n){var a=this;if(void 0===e)return null;var o=new s(e,t,r,n),i=t.not||t.disallow;return i?(i instanceof Array||(i=[i]),i.forEach(function(i){if(a.testType(e,t,r,n,i)){var s=i&&i.id&&"<"+i.id+">"||i;o.addError({name:"not",argument:s,message:"is of prohibited type "+s})}}),o):null},e.exports=l},function(e,t,r){"use strict";var n=e.exports.Validator=r(52);e.exports.ValidatorResult=r(5).ValidatorResult,e.exports.ValidationError=r(5).ValidationError,e.exports.SchemaError=r(5).SchemaError,e.exports.validate=function(e,t,r){var a=new n;return a.validate(e,t,r)}},function(e,t,r){"use strict";var n=r(14),a=r(50),o=r(5),i=o.ValidatorResult,s=o.SchemaError,u=o.SchemaContext,l=function f(){this.customFormats=Object.create(f.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(c),this.attributes=Object.create(a.validators)};l.prototype.customFormats={},l.prototype.schemas=null,l.prototype.types=null,l.prototype.attributes=null,l.prototype.unresolvedRefs=null,l.prototype.addSchema=function(e,t){if(!e)return null;var r=t||e.id;return this.addSubSchema(r,e),r&&(this.schemas[r]=e),this.schemas[r]},l.prototype.addSubSchema=function(e,t){if(t&&"object"==typeof t){if(t.$ref){var r=n.resolve(e,t.$ref);return void(void 0===this.schemas[r]&&(this.schemas[r]=null,this.unresolvedRefs.push(r)))}var a=t.id&&n.resolve(e,t.id),i=a||e;if(a){if(this.schemas[a]){if(!o.deepCompareStrict(this.schemas[a],t))throw new Error("Schema <"+t+"> already exists with different definition");return this.schemas[a]}this.schemas[a]=t;var s=a.replace(/^([^#]*)#$/,"$1");this.schemas[s]=t}return this.addSubSchemaArray(i,t.items instanceof Array?t.items:[t.items]),this.addSubSchemaArray(i,t["extends"]instanceof Array?t["extends"]:[t["extends"]]),this.addSubSchema(i,t.additionalItems),this.addSubSchemaObject(i,t.properties),this.addSubSchema(i,t.additionalProperties),this.addSubSchemaObject(i,t.definitions),this.addSubSchemaObject(i,t.patternProperties),this.addSubSchemaObject(i,t.dependencies),this.addSubSchemaArray(i,t.disallow),this.addSubSchemaArray(i,t.allOf),this.addSubSchemaArray(i,t.anyOf),this.addSubSchemaArray(i,t.oneOf),this.addSubSchema(i,t.not),this.schemas[a]}},l.prototype.addSubSchemaArray=function(e,t){if(t instanceof Array)for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])},l.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var r in t)this.addSubSchema(e,t[r])},l.prototype.setSchemas=function(e){this.schemas=e},l.prototype.getSchema=function(e){return this.schemas[e]},l.prototype.validate=function(e,t,r,a){r||(r={});var o=r.propertyName||"instance",i=n.resolve(r.base||"/",t.id||"");if(a||(a=new u(t,r,o,i,Object.create(this.schemas)),a.schemas[i]||(a.schemas[i]=t)),t){var l=this.validateSchema(e,t,r,a);if(!l)throw new Error("Result undefined");return l}throw new s("no schema specified",t)},l.prototype.validateSchema=function(e,t,r,n){function l(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t?t:!1}function c(e,t){var r;return(r=l(e))?f.resolve(e,r,t).subschema:e}var f=this,h=new i(e,t,r,n);if(!t)throw new Error("schema is undefined");t["extends"]&&(t["extends"]instanceof Array?t["extends"].forEach(function(e){t=o.deepMerge(t,c(e,n))}):t=o.deepMerge(t,c(t["extends"],n)));var d;if(d=l(t)){var p=this.resolve(t,d,n),v=new u(p.subschema,r,n.propertyPath,p.switchSchema,n.schemas);return this.validateSchema(e,p.subschema,r,v)}var m=r&&r.skipAttributes||[];for(var y in t)if(!a.ignoreProperties[y]&&m.indexOf(y)<0){var b=null,g=f.attributes[y];if(g)b=g.call(f,e,t,r,n);else if(r.allowUnknownAttributes===!1)throw new s("Unsupported attribute: "+y,t);b&&h.importErrors(b)}if("function"==typeof r.rewrite){var _=r.rewrite.call(this,e,t,r,n);h.instance=_}return h},l.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var a=n.parse(t),i=a&&a.hash,u=i&&i.length&&t.substr(0,t.length-i.length);if(!u||!r.schemas[u])throw new s("no such schema <"+t+">",e);var l=o.objectGetPath(r.schemas[u],i.substr(1));if(void 0===l)throw new s("no such schema "+i+" located in <"+u+">",e);return{subschema:l,switchSchema:t}},l.prototype.testType=function(e,t,r,n,a){if("function"==typeof this.types[a])return this.types[a].call(this,e);if(a&&"object"==typeof a){var o=this.validateSchema(e,a,r,n);return void 0===o||!(o&&o.errors.length)}return!0};var c=l.prototype.types={};c.string=function(e){return"string"==typeof e},c.number=function(e){return"number"==typeof e&&isFinite(e)},c.integer=function(e){return"number"==typeof e&&e%1===0},c["boolean"]=function(e){return"boolean"==typeof e},c.array=function(e){return e instanceof Array},c["null"]=function(e){return null===e},c.date=function(e){return e instanceof Date},c.any=function(e){return!0},c.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)},e.exports=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){return!(0,i["default"])(this.props,e)||!(0,i["default"])(this.state,t)}t.__esModule=!0,t["default"]=a;var o=r(54),i=n(o);e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),o=0;o<r.length;o++)if(!a(r[o])||e[r[o]]!==t[r[o]])return!1;return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]}])});